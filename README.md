# Lab7

## Описание проекта

Данная лабораторная работа является доработкой проекта из лабораторной работы №6 с целью перехода от хранения коллекции в файле к использованию реляционной базы данных PostgreSQL.

---

## Основные изменения и требования

- Хранение коллекции реализовано в реляционной СУБД PostgreSQL.
- Исключено хранение коллекции в файле.
- Для генерации поля `id` используется механизм базы данных (sequence).
- Состояние коллекции в памяти обновляется **только при успешном добавлении объекта в базу данных**.
- Все операции получения данных выполняются из **коллекции в памяти**, а не напрямую из базы данных.
- Добавлена регистрация и авторизация пользователей:
  - Пользователь указывает пароль при регистрации.
  - Пароли хранятся в базе в виде хэша, сформированного с использованием алгоритма SHA-384.
  - Неавторизованные пользователи не могут выполнять команды.
- При хранении объектов сохраняется информация о пользователе, создавшем объект.
- Пользователи могут просматривать все объекты коллекции, но редактировать — только свои.
- Для идентификации пользователя с каждым запросом отправляются логин и пароль.
- Реализована многопоточная обработка запросов:
  - Многопоточное чтение запросов — через Cached Thread Pool.
  - Многопоточная обработка запросов — через Fixed Thread Pool.
  - Многопоточная отправка ответов — через Cached Thread Pool.
- Для синхронизации доступа к коллекции используется `ReentrantLock` из `java.util.concurrent.locks` с разделением чтения и записи.

---

## Технические детали

- СУБД: PostgreSQL (хост — `pg`, имя базы — `studs`).
- Подключение к БД осуществляется с использованием учётных данных, совпадающих с учётными данными сервера кафедры.

---

## Запуск и использование

1. Убедитесь, что PostgreSQL доступен по адресу `pg`, база данных `studs` создана.
2. Настройте подключение в конфигурации проекта с правильным логином и паролем.
3. Запустите сервер приложения.
4. Для работы с коллекцией необходимо зарегистрироваться и авторизоваться.
5. Отправляйте запросы с указанием логина и пароля для идентификации.
6. Используйте стандартные команды для работы с коллекцией: добавление, просмотр, изменение (только для своих объектов).
